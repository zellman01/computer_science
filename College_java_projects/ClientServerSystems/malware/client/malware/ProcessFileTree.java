package client.malware;

import java.io.File;
import java.io.IOException;

public abstract class ProcessFileTree {
	private File root;
	
	public ProcessFileTree(File root) {
		this.root = root;
	}
	
	public void start() throws IOException {
		processSubtree(root);
	}
	
	private void processSubtree(File subRoot) throws IOException {
		File[] fileList;
		
		if (subRoot.isDirectory()) {
			fileList = subRoot.listFiles();
			if (fileList != null) {
				for (File f : fileList) {
					processSubtree(f);
				}
			}
		}
		
		visit(subRoot);
	}
	
	public abstract void visit(File f) throws IOException;
}